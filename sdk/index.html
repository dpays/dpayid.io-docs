<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>dPayID SDK | dPayID Developer Documentation</title>
    <meta name="description" content="The central knowledge hub for all things dPayID">
    <link rel="icon" href="https://go.dpayid.io/img/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.e34969e8.css" as="style"><link rel="preload" href="/assets/js/app.57601b62.js" as="script"><link rel="preload" href="/assets/js/17.4b406a92.js" as="script"><link rel="prefetch" href="/assets/js/11.93652463.js"><link rel="prefetch" href="/assets/js/2.0d02dd88.js"><link rel="prefetch" href="/assets/js/3.37469825.js"><link rel="prefetch" href="/assets/js/4.63acd3bc.js"><link rel="prefetch" href="/assets/js/5.67462bf6.js"><link rel="prefetch" href="/assets/js/6.0a5e5259.js"><link rel="prefetch" href="/assets/js/7.0de8176d.js"><link rel="prefetch" href="/assets/js/8.426b4814.js"><link rel="prefetch" href="/assets/js/9.daec588b.js"><link rel="prefetch" href="/assets/js/10.eb7159fa.js"><link rel="prefetch" href="/assets/js/12.fee60685.js"><link rel="prefetch" href="/assets/js/13.1c3c75de.js"><link rel="prefetch" href="/assets/js/14.c1b5948d.js"><link rel="prefetch" href="/assets/js/15.b395e4f2.js"><link rel="prefetch" href="/assets/js/16.5673eb60.js"><link rel="prefetch" href="/assets/js/18.2ff2b11b.js"><link rel="prefetch" href="/assets/js/19.018b44cc.js"><link rel="prefetch" href="/assets/js/20.05b170c4.js"><link rel="prefetch" href="/assets/js/21.c93c4ab2.js"><link rel="prefetch" href="/assets/js/22.b97c9411.js"><link rel="prefetch" href="/assets/js/23.2b62d4ac.js"><link rel="prefetch" href="/assets/js/24.3ca0267b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e34969e8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="https://go.dpayid.io/img/logo.png" class="logo"><span class="site-name can-hide">
      dPayID Developer Documentation
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/libraries/" class="nav-link">dPayID SDKs</a></div><div class="nav-item"><a href="/links/" class="nav-link">dPayID Resources</a></div><a href="https://github.com/dpays/dpayid-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/libraries/" class="nav-link">dPayID SDKs</a></div><div class="nav-item"><a href="/links/" class="nav-link">dPayID Resources</a></div><a href="https://github.com/dpays/dpayid-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/" class="sidebar-link">dPayID Developer Documentation</a></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>dPayID Specification 1.0</span><!----></p><ul class="sidebar-group-items"><li><a href="/specification/overview.html" class="sidebar-link">dPayID Specification Overview</a></li><li><a href="/specification/pages.html" class="sidebar-link">dPayID Page Specification</a></li><li><a href="/specification/api.html" class="sidebar-link">dPayID API Specification</a></li><li><a href="/specification/database-schema.html" class="sidebar-link">dPayID Database Schema</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>dPayID OAuth-2 Process</span><!----></p><ul class="sidebar-group-items"><li><a href="/oauth/step-1-implicit-authorization-link.html" class="sidebar-link">Step 1: Implicit Authorization Link</a></li><li><a href="/oauth/step-2-user-authorizes-application.html" class="sidebar-link">Step 2: User Authorizes Application</a></li><li><a href="/oauth/step-3-application-receives-access-token.html" class="sidebar-link">Step 3: Application Receives Access</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>dPayID OAuth-2 Mechanics</span><!----></p><ul class="sidebar-group-items"><li><a href="/oauth/implicit-grant-flow.html" class="sidebar-link">dPayID Implicit Grant Flow</a></li><li><a href="/oauth/code-authorization-flow.html" class="sidebar-link">dPayID Code Authorization Flow</a></li><li><a href="/oauth/scopes.html" class="sidebar-link">dPayID OAuth-2 Scopes</a></li><li><a href="/oauth/broadcast-a-transaction.html" class="sidebar-link">Broadcasting Transactions</a></li><li><a href="/oauth/access-token-usage.html" class="sidebar-link">dPayID OA-2 Access Token Usage</a></li><li><a href="/oauth/api-rate-limits.html" class="sidebar-link">dPayID API Rate Limits</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>dPayID Resources</span><!----></p><ul class="sidebar-group-items"><li><a href="/sdk/" class="active sidebar-link">dPayID SDK</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/sdk/#getting-started" class="sidebar-link">Getting Started</a></li><li class="sidebar-sub-header"><a href="/sdk/#sdk-methods" class="sidebar-link">SDK Methods</a></li></ul></li></ul></div></li></ul></div><div class="page"><div class="content"><h2 id="getting-started"><a href="#getting-started" aria-hidden="true" class="header-anchor">#</a> Getting Started</h2><p>For general information about DPayId V2 and setting up your app please see this post from @jared: <a href="https://dsite.io/dpayid/@jared/how-to-configure-dpayid-and-use-it-with-your-application-and-how-it-works" target="_blank" rel="noopener noreferrer">How to configure DPayId v2 and use it with your application<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h3 id="include-the-dpid-sdk-in-your-html-page"><a href="#include-the-dpid-sdk-in-your-html-page" aria-hidden="true" class="header-anchor">#</a> Include the DPID SDK in your HTML page</h3><p>You can download a minified version of dpid.js here: <a href="https://dpays.github.io/example-dpayid-angular/dpid.min.js" target="_blank" rel="noopener noreferrer">https://dpays.github.io/example-dpayid-angular/dpid.min.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and include it in your HTML page:</p><div class="language- extra-class"><pre class="language-text"><code>&lt;script src=&quot;/scripts/dpid.min.js&quot;&gt;&lt;/script&gt;
</code></pre></div><h2 id="sdk-methods"><a href="#sdk-methods" aria-hidden="true" class="header-anchor">#</a> SDK Methods</h2><h3 id="init-sdk"><a href="#init-sdk" aria-hidden="true" class="header-anchor">#</a> Init SDK</h3><p>Call the Initialize() method when your app first loads to initialize the SDK:</p><div class="language- extra-class"><pre class="language-text"><code>var dpid = require('@dpay/id');

var api = dpid.Initialize({
  app: 'dsocial',
  callbackURL: 'http://localhost:8000/demo/',
  accessToken: 'access_token',
  scope: ['vote', 'comment']
});
</code></pre></div><p>Parameters:</p><ul><li><strong>app</strong>: This is the name of the app that was registered in the DPayId V2 dashboard</li><li><strong>callbackURL</strong>: This is the URL that users will be redirected to after interacting with DPID. It must be listed in the &quot;Redirect URI(s)&quot; list in the app settings EXACTLY the same as it is specified here</li><li><strong>accessToken</strong>: If you have an oauth2 access token for this user already you can specify it here, otherwise you can leave it and set it later using dpid.setAccessToken(accessToken).</li><li><strong>scope</strong>: This is a list of operations the app will be able to access on the user's account. For a complete list of scopes see: <a href="https://github.com/dpays/dpayid-sdk/wiki/OAuth-2#scopes" target="_blank" rel="noopener noreferrer">https://github.com/dpays/dpayid-sdk/wiki/OAuth-2#scopes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><h3 id="get-login-url"><a href="#get-login-url" aria-hidden="true" class="header-anchor">#</a> Get Login URL</h3><p>The following method returns a URL that you can redirect the user to so that they may log in to your app through DPID:</p><div class="language- extra-class"><pre class="language-text"><code>var link = api.getLoginURL(state);
console.log(link)
// =&gt; https://dpayid.io/oauth2/authorize?client_id=[app]&amp;redirect_uri=[callbackURL]&amp;scope=vote,comment&amp;state=[state]
</code></pre></div><p>Parameters:</p><ul><li><strong>state</strong>: Data that will be passed to the callbackURL for your app after the user has logged in.</li></ul><p>After logging in, DPID will redirect the user to the &quot;redirect_uri&quot; specified in the login url above and add the following query string parameters for your app to use:</p><ul><li><strong>access_token</strong>: This is the oauth2 access token that is required to make any dPay API calls on behalf of the current user. Once you have this you need to tell the DPID SDK to use it by either specifying it as a parameter to the init() method call or by calling dpid.setAccessToken([accessToken]).</li><li><strong>expires_in</strong>: The number of seconds until the access token expires.</li><li><strong>username</strong>: The username of the current user.</li></ul><h3 id="get-user-profile"><a href="#get-user-profile" aria-hidden="true" class="header-anchor">#</a> Get user profile</h3><p>Once a user is logged in to your app you can call the following method to get the details of their account:</p><div class="language- extra-class"><pre class="language-text"><code>api.me(function (err, res) {
  console.log(err, res)
});
</code></pre></div><p>If it is successful, the result will be a JSON object with the following properties:</p><div class="language- extra-class"><pre class="language-text"><code>account:{id: 338059, name: &quot;yabapmatt&quot;, owner: {}, active: {}, posting: {}, ...}
name:&quot;yabapmatt&quot;
scope:[&quot;vote&quot;]
user:&quot;yabapmatt&quot;
user_metadata:{}
_id:&quot;yabapmatt&quot;
</code></pre></div><h3 id="vote"><a href="#vote" aria-hidden="true" class="header-anchor">#</a> Vote</h3><p>The vote() method will cast a vote on the specified post or comment from the current user:</p><div class="language- extra-class"><pre class="language-text"><code>api.vote(voter, author, permlink, weight, function (err, res) {
  console.log(err, res)
});
</code></pre></div><p>Parameters:</p><ul><li><strong>voter</strong>: The dPay username of the current user.</li><li><strong>author</strong>: The dPay username of the author of the post or comment.</li><li><strong>permlink</strong>: The link to the post or comment on which to vote. This is the portion of the URL after the last &quot;/&quot;. For example the &quot;permlink&quot; for this post: https://dsite.io/dpay/@jared/announcing-smart-dapp-commodities would be &quot;announcing-smart-dapp-commodities-sdcs&quot;.</li><li><strong>weight</strong>: The weight of the vote. 10000 equale a 100% vote.</li><li><strong>callback</strong>: A function that is called once the vote is submitted and included in a block. If successful the &quot;res&quot; variable will be a JSON object containing the details of the block and the vote operation.</li></ul><h3 id="comment"><a href="#comment" aria-hidden="true" class="header-anchor">#</a> Comment</h3><p>The comment() method will post a comment on an existing post or comment from the current user:</p><div class="language- extra-class"><pre class="language-text"><code>api.comment(parentAuthor, parentPermlink, author, permlink, title, body, jsonMetadata, function (err, res) {
  console.log(err, res)
});
</code></pre></div><h3 id="generate-hot-signing-link"><a href="#generate-hot-signing-link" aria-hidden="true" class="header-anchor">#</a> Generate hot signing link</h3><p>The sign() method creates a URL to which your app can redirect the user to perform a signed transaction on the blockchain such as a transfer or delegation:</p><div class="language- extra-class"><pre class="language-text"><code>var link = api.sign('transfer', {
  to: 'fabien',
  amount: '1.000 BEX',
  memo: 'Hello World!',
}, 'http://localhost:8000/demo/transfer-complete');

console.log(link);
// =&gt; https://dpayid.io/sign/transfer?to=fabien&amp;amount=1.000%20BEX&amp;memo=Hello%20World!&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8000%2Fdemo%2Ftransfer-complete
</code></pre></div><h3 id="logout"><a href="#logout" aria-hidden="true" class="header-anchor">#</a> Logout</h3><p>The revokeToken() method will log the current user out of your application by revoking the access token provided to your app for that user:</p><div class="language- extra-class"><pre class="language-text"><code>api.revokeToken(function (err, res) {
  console.log(err, res)
});
</code></pre></div><h3 id="reblog"><a href="#reblog" aria-hidden="true" class="header-anchor">#</a> Reblog</h3><div class="language- extra-class"><pre class="language-text"><code>api.reblog(account, author, permlink, function (err, res) {
  console.log(err, res)
});
</code></pre></div><h3 id="follow"><a href="#follow" aria-hidden="true" class="header-anchor">#</a> Follow</h3><div class="language- extra-class"><pre class="language-text"><code>api.follow(follower, following, function (err, res) {
  console.log(err, res)
});
</code></pre></div><h3 id="unfollow"><a href="#unfollow" aria-hidden="true" class="header-anchor">#</a> Unfollow</h3><div class="language- extra-class"><pre class="language-text"><code>api.unfollow(unfollower, unfollowing, function (err, res) {
  console.log(err, res)
});
</code></pre></div><h3 id="ignore"><a href="#ignore" aria-hidden="true" class="header-anchor">#</a> Ignore</h3><div class="language- extra-class"><pre class="language-text"><code>api.ignore(follower, following, function (err, res) {
  console.log(err, res)
});
</code></pre></div><h3 id="claim-reward-balance"><a href="#claim-reward-balance" aria-hidden="true" class="header-anchor">#</a> Claim Reward Balance</h3><div class="language- extra-class"><pre class="language-text"><code>api.claimRewardBalance(account, rewardDpay, rewardBbd, rewardVests, function (err, res) {
  console.log(err, res)
});
</code></pre></div><h3 id="update-user-metadata"><a href="#update-user-metadata" aria-hidden="true" class="header-anchor">#</a> Update User Metadata</h3><div class="language- extra-class"><pre class="language-text"><code>api.updateUserMetadata(metadata, function (err, res) {
  console.log(err, res)
});
</code></pre></div></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/dpays/dpayid-docs/edit/master/docs/sdk/README.md" target="_blank" rel="noopener noreferrer">Help us improve this part of the docs!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/oauth/api-rate-limits.html" class="prev">
          dPayID API Rate Limits
        </a></span><!----></p></div></div></div></div>
    <script src="/assets/js/17.4b406a92.js" defer></script><script src="/assets/js/app.57601b62.js" defer></script>
  </body>
</html>
